<div id="main-content">
  <div class="container-fluid">

  <div class="row clearfix">
    <div class="col-lg-12">
      <div class="card">
        <div class="body">
          <ul class="nav nav-tabs">
            <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#profile">Profile</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#parametre">Paramétre</a></li>
          </ul>
        </div>
        <div class="tab-content">

          <div class="tab-pane active" id="profile">

            <form [formGroup]="editProfileForm" (ngSubmit)="updateUserProfile()">
              <div class="form-group">
                <input type="text" class="form-control" name="username" type="text" placeholder="Choisissez nom d'utilisateur" formControlName="username">
                <div *ngIf="submitted && showErrorMsg.username?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsg.username.errors.required">Nom d'utilisateur obligatoire
                  </mat-hint>
                </div>
              </div>


              <div class="form-group">
                <input type="text" class="form-control" ype="text" placeholder="Nom" formControlName="first_name">
                <div *ngIf="submitted && showErrorMsg.first_name?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsg.first_name.errors.required">Le nom est obligatoire</mat-hint>
                </div>
              </div>

              <div class="form-group">
                <input type="text" class="form-control" type="text" placeholder="Prénom" formControlName="last_name">
                <div *ngIf="submitted && showErrorMsg.last_name?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsg.last_name.errors.required">Prénom obligatoire</mat-hint>
                </div>
              </div>

              <div class="form-group">
                <input type="text" class="form-control" type="text" placeholder="votre adresse email" formControlName="email">
                <span matSuffix >
                                            <i class="material-icons red-info-circle" type="button"
                                               *ngIf="showErrorMsg.email?.errors?.pattern" tabindex="-1"
                                               matTooltip="Email non valide" matTooltipPosition="below">
                                                info
                                            </i>
                                            <i class="material-icons  green-check-circle" *ngIf="!showErrorMsg.email?.errors">
                                                check_circle
                                            </i>
                                        </span>
                <div *ngIf="submitted && showErrorMsg.email?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsg.email.errors.required">Le nom est obligatoire</mat-hint>
                </div>
              </div>
              <button mat-raised-button class="btnStyle">Enregistrer</button> &nbsp;&nbsp;
            </form>

          </div>

          <div class="tab-pane" id="parametre">

            <form [formGroup]="editPwdForm" (ngSubmit)="changeUSerPwd()">
              <div class="form-group">
                <input type="text" class="form-control" type="password" placeholder="Ancien mot de passe " formControlName="ancienPassword">
                <div *ngIf="submittedPwd && showErrorMsgPwd.ancienPassword?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsgPwd.ancienPassword.errors.required"> Ancien mot de passe obligatoire
                  </mat-hint>
                  <mat-hint *ngIf="showErrorMsgPwd.ancienPassword.errors.minlength">Taille supérieur à 8 caractères
                  </mat-hint>
                </div>
              </div>

              <div class="form-group">
                <input type="text" class="form-control" name="nouvPassword" type="password" placeholder="Nouveau mot de passe " formControlName="nouvPassword">
                <div *ngIf="submittedPwd && showErrorMsgPwd.nouvPassword?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsgPwd.nouvPassword.errors.required"> Nouveau mot de passe obligatoire
                  </mat-hint>
                  <mat-hint *ngIf="showErrorMsgPwd.nouvPassword.errors.minlength">Taille supérieur à 8 caractères
                  </mat-hint>
                </div>
              </div>

              <div class="form-group">
                <input type="text" class="form-control" name="confirmPassword" type="password" placeholder="Confirmer mot de pass" formControlName="confirmPassword">
                <span matSuffix>
                                    <i class="material-icons red-info-circle" type="button"
                                       *ngIf="showErrorMsgPwd.confirmPassword?.errors?.mustMatch" tabindex="-1"
                                       matTooltip="unmuched pwd" matTooltipPosition="below">
                                        info
                                    </i>
                                    <i class="material-icons  green-check-circle"
                                       *ngIf="!showErrorMsgPwd.confirmPassword?.errors">
                                        check_circle
                                    </i>
                                </span>
                <div *ngIf="submittedPwd && showErrorMsgPwd.nouvPassword?.errors && errorMsg" class="worningMsg" (click)="hideErrorMsg()">
                  <mat-hint *ngIf="showErrorMsgPwd.nouvPassword.errors.required">Confimation de mot de passe obligatoire
                  </mat-hint>
                  <mat-hint *ngIf="showErrorMsgPwd.nouvPassword.errors.mustMatch">Mot de passe non confirmer
                  </mat-hint>
                </div>
              </div>

              <button mat-raised-button class="btnStyle">Enregistrer</button> &nbsp;&nbsp;

            </form>


          </div>
        </div>
      </div>

    </div>
  </div>
</div>
</div>
